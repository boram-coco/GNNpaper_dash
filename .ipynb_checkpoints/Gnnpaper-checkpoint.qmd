---
title: "Graph representation corresponds to the credit card number"
author: "Boram_coco"
format: 
    dashboard:
     theme: default
     nav-buttons:
      - icon: github
        href: https://github.com/boram-coco
execute: 
  enabled: true
  cache: false
  freeze: false
  error: true
---

```{python}
import pandas as pd
import dash
from dash import dcc, html
from dash.dependencies import Input, Output
import plotly.express as px
import networkx as nx
import torch_geometric
import pickle
import itables

# data
with open('../GNNpaper/posts/fraudTrain.pkl', 'rb') as file:
    fraudTrain = pickle.load(file)    

merged_df = pd.read_csv('../GNNpaper/posts/results/240307_meged.csv')
result_df = fraudTrain.groupby("cc_num")["is_fraud"].agg(['count', 'sum']).reset_index()


```


# Data {orientation="columns" scrolling="true"}

## Row {.tabset}



```{python}
#| title: Number of transactions per cc_num

itables.show(result_df, lengthMenu=[10, 50, 100, 300, 600])
```


```{python}
#| title: Transaction information per cc_num
import itables.options as opt
import itables.interactive
def cc_num_filter(selected_cc_num):
    return fraudTrain[fraudTrain['cc_num'] == selected_cc_num]
opt.filters = {'cc_num': 'cc_num_filter'}
itables.show(fraudTrain, options=opt)

```

# Experiment

```{python}
from itables import show
show(merged_df, showIndex = False)
```
